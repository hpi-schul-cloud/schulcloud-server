{
  "openapi": "3.0.0",
  "info": {
    "title": "Schulcloud-Verbund-Software Server API",
    "description": "This is v3 of Schulcloud-Verbund-Software Server. Checkout /docs for v1.",
    "version": "3.0",
    "contact": {}
  },
  "servers": [
    {
      "url": "/api/v3/"
    }
  ],
  "paths": {
    "/lessons/{lessonId}": {
      "delete": {
        "operationId": "LessonController_delete",
        "parameters": [
          {
            "name": "lessonId",
            "required": true,
            "in": "path",
            "description": "The id of the lesson.",
            "schema": {
              "nullable": false,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "boolean"
                }
              }
            }
          }
        },
        "tags": [
          "Lesson"
        ],
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "get": {
        "operationId": "LessonController_getLesson",
        "parameters": [
          {
            "name": "lessonId",
            "required": true,
            "in": "path",
            "description": "The id of the lesson.",
            "schema": {
              "nullable": false,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LessonResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Lesson"
        ],
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/lessons/course/{courseId}": {
      "get": {
        "operationId": "LessonController_getCourseLessons",
        "parameters": [
          {
            "name": "courseId",
            "required": true,
            "in": "path",
            "description": "The id of the course the lesson belongs to.",
            "schema": {
              "nullable": false,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LessonMetadataListResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Lesson"
        ],
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/lessons/{lessonId}/tasks": {
      "get": {
        "operationId": "LessonController_getLessonTasks",
        "parameters": [
          {
            "name": "lessonId",
            "required": true,
            "in": "path",
            "description": "The id of the lesson.",
            "schema": {
              "nullable": false,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LessonLinkedTaskResponse"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Lesson"
        ],
        "security": [
          {
            "bearer": []
          }
        ]
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearer": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http"
      }
    },
    "schemas": {
      "LessonMetadataResponse": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "The id of the Lesson entity",
            "pattern": "[a-f0-9]{24}"
          },
          "name": {
            "type": "string",
            "description": "Name of the Lesson entity"
          }
        },
        "required": [
          "_id",
          "name"
        ]
      },
      "LessonMetadataListResponse": {
        "type": "object",
        "properties": {
          "data": {
            "description": "The items for the current page.",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LessonMetadataResponse"
            }
          },
          "total": {
            "type": "number",
            "description": "The total amount of items."
          },
          "skip": {
            "type": "number",
            "description": "The amount of items skipped from the start."
          },
          "limit": {
            "type": "number",
            "description": "The page size of the response."
          }
        },
        "required": [
          "data",
          "total",
          "skip",
          "limit"
        ]
      },
      "ComponentTextPropsImpl": {
        "type": "object",
        "properties": {
          "text": {
            "type": "string",
            "nullable": false
          }
        },
        "required": [
          "text"
        ]
      },
      "ComponentEtherpadPropsImpl": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "nullable": false,
            "description": "description of a Etherpad component"
          },
          "title": {
            "type": "string",
            "nullable": false,
            "description": "title of a Etherpad component"
          },
          "url": {
            "type": "string",
            "nullable": false,
            "description": "url of a Etherpad component"
          }
        },
        "required": [
          "description",
          "title",
          "url"
        ]
      },
      "ComponentGeogebraPropsImpl": {
        "type": "object",
        "properties": {
          "materialId": {
            "type": "string",
            "nullable": false,
            "description": "materialId of a Geogebra component"
          }
        },
        "required": [
          "materialId"
        ]
      },
      "ComponentInternalPropsImpl": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "nullable": false,
            "description": "url of a Internal component"
          }
        },
        "required": [
          "url"
        ]
      },
      "ComponentLernstorePropsImpl": {
        "type": "object",
        "properties": {
          "resources": {
            "nullable": false,
            "description": "resources of a Lernstore component",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "resources"
        ]
      },
      "ComponentNexboardPropsImpl": {
        "type": "object",
        "properties": {
          "board": {
            "type": "string",
            "nullable": false,
            "description": "board of a Nexboard component"
          },
          "description": {
            "type": "string",
            "nullable": false,
            "description": "description of a Nexboard component"
          },
          "title": {
            "type": "string",
            "nullable": false,
            "description": "title of a Nexboard component"
          },
          "url": {
            "type": "string",
            "nullable": false,
            "description": "url of a Nexboard component"
          }
        },
        "required": [
          "board",
          "description",
          "title",
          "url"
        ]
      },
      "LessonContentResponse": {
        "type": "object",
        "properties": {
          "content": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/ComponentTextPropsImpl"
              },
              {
                "$ref": "#/components/schemas/ComponentEtherpadPropsImpl"
              },
              {
                "$ref": "#/components/schemas/ComponentGeogebraPropsImpl"
              },
              {
                "$ref": "#/components/schemas/ComponentInternalPropsImpl"
              },
              {
                "$ref": "#/components/schemas/ComponentLernstorePropsImpl"
              },
              {
                "$ref": "#/components/schemas/ComponentNexboardPropsImpl"
              }
            ]
          },
          "_id": {
            "type": "string",
            "description": "The id of the Material entity",
            "pattern": "[a-f0-9]{24}",
            "deprecated": true
          },
          "id": {
            "type": "string",
            "description": "The id of the Material entity",
            "pattern": "[a-f0-9]{24}"
          },
          "title": {
            "type": "string",
            "description": "Title of the Material entity"
          },
          "component": {
            "type": "string",
            "enum": [
              "Etherpad",
              "geoGebra",
              "internal",
              "resources",
              "text",
              "neXboard"
            ]
          },
          "hidden": {
            "type": "boolean"
          }
        },
        "required": [
          "content",
          "_id",
          "id",
          "title",
          "component",
          "hidden"
        ]
      },
      "MaterialResponse": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "The id of the Material entity",
            "pattern": "[a-f0-9]{24}"
          },
          "id": {
            "type": "string",
            "description": "The id of the Material entity",
            "pattern": "[a-f0-9]{24}"
          },
          "title": {
            "type": "string",
            "description": "Title of the Material entity"
          },
          "relatedResources": {
            "description": "?",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "url": {
            "type": "string",
            "description": "Url of the material"
          },
          "client": {
            "type": "string",
            "description": "Position of the Lesson entity"
          },
          "license": {
            "description": "Description of the material license",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "merlinReference": {
            "type": "string",
            "description": "For material from Merlin, the Merlin reference"
          }
        },
        "required": [
          "_id",
          "id",
          "title",
          "relatedResources",
          "url",
          "client",
          "license",
          "merlinReference"
        ]
      },
      "LessonResponse": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "The id of the Lesson entity",
            "pattern": "[a-f0-9]{24}",
            "deprecated": true
          },
          "id": {
            "type": "string",
            "description": "The id of the Lesson entity",
            "pattern": "[a-f0-9]{24}"
          },
          "name": {
            "type": "string",
            "description": "Name of the Lesson entity"
          },
          "courseId": {
            "type": "string",
            "description": "The id of the Course entity",
            "pattern": "[a-f0-9]{24}"
          },
          "courseGroupId": {
            "type": "string",
            "description": "The id of the Course-group entity",
            "pattern": "[a-f0-9]{24}"
          },
          "hidden": {
            "type": "boolean",
            "description": "Hidden status of the Lesson entity"
          },
          "position": {
            "type": "number",
            "description": "Position of the Lesson entity"
          },
          "contents": {
            "description": "Contents of the Lesson entity",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LessonContentResponse"
            }
          },
          "materials": {
            "description": "Materials of the Lesson entity",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MaterialResponse"
            }
          }
        },
        "required": [
          "_id",
          "id",
          "name",
          "hidden",
          "position",
          "contents",
          "materials"
        ]
      },
      "LessonLinkedTaskResponse": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "descriptionInputFormat": {
            "type": "string",
            "enum": [
              "plainText",
              "richTextCk5Simple",
              "richTextCk4",
              "richTextCk5"
            ]
          },
          "availableDate": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "dueDate": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "private": {
            "type": "boolean"
          },
          "publicSubmissions": {
            "type": "boolean",
            "nullable": true
          },
          "teamSubmissions": {
            "type": "boolean",
            "nullable": true
          },
          "creator": {
            "type": "string",
            "nullable": true
          },
          "courseId": {
            "type": "string",
            "nullable": true
          },
          "submissionIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "finishedIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "name",
          "description",
          "descriptionInputFormat",
          "availableDate",
          "dueDate",
          "private",
          "publicSubmissions",
          "teamSubmissions",
          "creator",
          "courseId",
          "submissionIds",
          "finishedIds"
        ]
      }
    }
  }
}